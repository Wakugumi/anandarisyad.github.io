---
/**
 * Ananda Risyad
 * 
 * Education Component
 * Renders an education section with a list of educational qualifications.
 * Each qualification includes institution name, degree, field of study, dates, and description.
 * Uses configuration data from config.ts.
 */
import config from '../lib/config';
import Card from './baseline/Card.astro';
import Modal from './baseline/Modal.astro';

---
<div class="flex flex-col gap-12 m-auto w-full max-w-full z-[-10]">

<Card isShadowed={false} direction="vertical" id="education">
        <div class="p-6">
            <h2 class="text-4xl font-bold mb-4">Education</h2>
        </div>
  <ul class="space-y-6">
    {config.education!.map((edu, index) => (
      <li class="flex flex-col lg:flex-row items-start space-x-4" onclick={`openModal('education-${index}')`}
>
        {edu.logo && (
          <img src={edu.logo} alt={`${edu.institution} logo`} class="w-16 h-16 object-contain" />
        )}

        <div>
          <h3 class="text-lg font-semibold">{edu.degree}</h3>
          <p class="text-gray-600">{edu.institution} &middot; {edu.location}</p>
          <p class="text-gray-500 text-sm ">{edu.duration} {edu.gpa ? `&middot; GPA: ${edu.gpa}` : ''}</p>
          {edu.description && <p class="mt-2 text-gray-700 lg:block hidden">{edu.description}</p>}
        </div>
      </li>
    ))}
  </ul>
</Card>
</div>

{config.education!.map((edu, index) => (
  <Modal
    id={`education-${index}`}
    title={`${edu.degree} - ${edu.institution}`}
    size="lg"
    actions={[
      { label: 'Close', action: 'close', variant: 'secondary' }
    ]}
    zIndex={50}
  >
    <div class="space-y-4 text-sm overflow-y-auto max-h-[70vh]">
      <div class="bg-gray-50 p-4 rounded-lg">
        <div class="flex justify-between items-start mb-3">
          <div>
            <h3 class="font-semibold text-gray-900">{edu.degree}</h3>
            <p class="text-gray-600">{edu.institution}</p>
          </div>
          <div class="text-right text-sm text-gray-500">
            <div>{edu.duration}</div>
            {edu.location && <div>{edu.location}</div>}
          </div>
        </div>

        {edu.description && (
          <p class="mt-2 text-gray-700">{edu.description}</p>
        )}
      </div>
    </div>
  </Modal>
)) }